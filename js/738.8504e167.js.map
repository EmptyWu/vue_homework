{"version":3,"file":"js/738.8504e167.js","mappings":"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","sources":["webpack://homework7/./src/views/FrontEnd/CartView.vue","webpack://homework7/./src/views/FrontEnd/CartView.vue?8519"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h2>購物車</h2>\n    <div class=\"mt-4 row\">\n      <!-- 購物車列表 -->\n      <div class=\"col-sm-12 col-lg-6 pe-3\">\n        <div class=\"text-end\">\n          <button class=\"btn btn-outline-danger\" type=\"button\"\n          :disabled=\"cartData.carts?.length===0\" @click=\"cleanCart('')\">\n            清空購物車\n          </button>\n        </div>\n        <table class=\"table align-middle\">\n          <thead>\n            <tr>\n              <th></th>\n              <th>品名</th>\n              <th style=\"width: 150px\">數量/單位</th>\n              <th class=\"d-flex justify-content-end\">單價</th>\n            </tr>\n          </thead>\n          <tbody>\n            <template v-if=\"cartData.carts\">\n              <tr v-for=\"cart in cartData.carts\" :key=\"cart.id\">\n                <td>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-danger btn-sm\"\n                    @click=\"cleanCart(cart.id)\"\n                  >\n                    <font-awesome-icon\n                      icon=\"spinner\"\n                      pulse\n                      v-if=\"loadingFlag === cart.id\"\n                    />\n                    x\n                  </button>\n                </td>\n                <td>\n                  {{ cart.product.title }}\n                  <div class=\"text-success\">已套用優惠券</div>\n                </td>\n                <td>\n                  <div class=\"input-group input-group-sm\">\n                    <div class=\"input-group mb-3\">\n                      <!-- <input v-model.number='cart.qty'\n                 min='1' type='number' class='form-control'> -->\n                      <select v-model.number=\"cart.qty\" class=\"form-select\">\n                        <option\n                          v-for=\"num in 20\"\n                          :key=\"num + cart.id\"\n                          :value=\"num\"\n                          :selected=\"cart.qty === num\"\n                        >\n                          {{ num }}\n                        </option>\n                      </select>\n                      <span\n                        class=\"input-group-text\"\n                        id=\"basic-addon2\"\n                        >{{\n                      }}</span>\n                    </div>\n                  </div>\n                </td>\n                <td class=\"text-end\">\n                  <small class=\"text-success\">折扣價：</small>\n                  {{ cart.final_total }}\n                </td>\n              </tr>\n            </template>\n          </tbody>\n          <tfoot>\n            <tr>\n              <td colspan=\"3\" class=\"text-end\">總計</td>\n              <td class=\"text-end\">{{ cartData.total }}</td>\n            </tr>\n            <tr>\n              <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n              <td class=\"text-end text-success\">{{ cartData.final_total }}</td>\n            </tr>\n          </tfoot>\n        </table>\n      </div>\n      <!-- 購物車列表 -->\n    </div>\n  </div>\n</template>\n\n<script>\n// import emitter from '@/libs/emitter';\n\nexport default {\n  data() {\n    return {\n      cartData: { carts: [] },\n      loadingFlag: '',\n      isLoading: false,\n    };\n  },\n  methods: {\n    showCarts() {\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\n        .then((res) => {\n          this.cartData = res.data.data;\n        })\n        .catch((error) => {\n          this.$httpMessageState(error.response, '錯誤訊息');\n        });\n    },\n    closeLoadingFlag(id) {\n      this.loadingFlag = id;\n      this.isLoading = id !== '';\n    },\n    cleanCart(id = '') {\n      let delCartUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`;\n      if (id !== '') {\n        this.closeLoadingFlag(id);\n        delCartUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      }\n      this.$http\n        .delete(delCartUrl)\n        .then((res) => {\n          this.$httpMessageState(res, '清空購物車');\n          this.showCarts();\n          this.closeLoadingFlag('');\n        })\n        .catch((error) => {\n          this.$httpMessageState(error.response, '錯誤訊息');\n        });\n    },\n  },\n  mounted() {\n    this.load = this.$loading;\n    this.showCarts();\n  },\n};\n</script>\n","import { render } from \"./CartView.vue?vue&type=template&id=0dae1478\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\個人\\\\六角\\\\Vue 作品實戰 2022 春季班 作業\\\\Vue直播班\\\\Homework7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","id","colspan","_createElementBlock","_hoisted_2","type","disabled","$data","carts","length","onClick","$options","_hoisted_6","_hoisted_8","_Fragment","key","_renderList","cart","_createBlock","_component_font_awesome_icon","icon","pulse","product","title","_hoisted_11","qty","$event","num","value","selected","_hoisted_15","_toDisplayString","_hoisted_18","final_total","_hoisted_19","total","_hoisted_21","data","cartData","loadingFlag","isLoading","methods","showCarts","this","$http","get","then","res","catch","error","$httpMessageState","response","closeLoadingFlag","cleanCart","delCartUrl","delete","mounted","load","$loading","__exports__","render"],"sourceRoot":""}