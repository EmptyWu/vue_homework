{"version":3,"file":"js/921.07d000d6.js","mappings":"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","sources":["webpack://homework7/./src/views/FrontEnd/ProductsView.vue","webpack://homework7/./src/components/ProductModel.vue","webpack://homework7/./src/components/ProductModel.vue?c69a","webpack://homework7/./src/views/FrontEnd/ProductsView.vue?9fde"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h2>產品列表</h2>\n    <!-- row 決定內層的數量 -->\n    <div class=\"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-3\">\n      <!-- 內層不定義寬度 -->\n      <div class=\"col\" v-for=\"product in products\" :key=\"product.id\">\n        <div class=\"card h-100\">\n            <img :src=\"product.imageUrl\" class=\"card-img-top obj-cover obj-position-bottom\"\n            style=\"height:200px\"  alt=\"...\" />\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">{{ product.title }}</h5>\n            <p class=\"card-text\">\n              {{ product.description }}\n            </p>\n          </div>\n          <div class=\"card-footer text-muted text-center\">\n            <button\n                type=\"button\"\n                class=\"btn btn-primary\"\n                :disabled=\"loadingFlag===product.id\"\n                @click=\"showMore(product.id)\"\n              >\n              <font-awesome-icon icon=\"spinner\" pulse  v-if=\"loadingFlag===product.id\"/>\n                查看更多\n              </button>\n            <button class=\"btn btn-danger ms-3\" @click=\"updateCart('add',product.id)\">\n              <font-awesome-icon icon=\"spinner\" pulse  v-if=\"loadingFlag===product.id\"/>\n              加入購物車</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <UserProductModal\n     ref=\"userProductModal\" :id=\"productId\" @loading-flag=\"closeLoadingFlag\"\n     @add-cart=\"updateCart\"></UserProductModal>\n</template>\n\n<script>\nimport UserProductModal from '@/components/ProductModel.vue'; // 產品明細\n\nexport default {\n  data() {\n    return {\n      products: [],\n      loadingFlag: '',\n      productId: '',\n    };\n  },\n  methods: {\n    getProducts() {\n      this.$http(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`).then(\n        (res) => {\n          this.products = res.data.products;\n        },\n      );\n    },\n    // 查看更多\n    showMore(id) {\n      this.closeLoadingFlag(id);\n      this.productId = id;\n      this.$refs.userProductModal.openModal();\n    },\n    closeLoadingFlag(id) {\n      this.loadingFlag = id;\n      // this.isLoading = (id !== '');\n    },\n    updateCart(type, id, num = 1) {\n      let cartUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      let met = 'post';\n      if (type === 'update') {\n        cartUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`;\n        met = 'put';\n      }\n      this.closeLoadingFlag(id);\n\n      const data = {\n        product_id: id,\n        qty: num,\n      };\n      this.$http[met](cartUrl, { data })\n        .then((res) => {\n          if (res.data.success) {\n            this.closeLoadingFlag('');\n            this.$refs.userProductModal.closeModal();\n            this.$httpMessageState(res, `${type === 'update' ? '更新' : '新增'}購物車`);\n          }\n        })\n        .catch((error) => {\n          this.$httpMessageState(error.response, '錯誤訊息');\n        });\n    },\n  },\n  components: {\n    UserProductModal,\n  },\n  mounted() {\n    this.getProducts();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"productModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>{{ product.title }}</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-6\">\n              <img class=\"img-fluid\" :src=\"product.imageUrl\" alt=\"\" />\n            </div>\n            <div class=\"col-sm-6\">\n              <span class=\"badge bg-primary rounded-pill\">{{\n                product.category\n              }}</span>\n              <p>商品描述：{{ product.description }}</p>\n              <p>商品內容：{{ product.content }}</p>\n              <div class=\"h5\" v-if=\"product.price === product.origin_price\">\n                {{ product.price }} 元\n              </div>\n              <div v-else>\n                <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\n                <div class=\"h5\">現在只要 {{ product.price }} 元</div>\n              </div>\n              <div>\n                <div class=\"input-group\">\n                  <select v-model.number=\"qty\" class=\"form-select\">\n                    <option\n                      v-for=\"num in 20\"\n                      :key=\"num + id\"\n                      :value=\"num\"\n                      :selected=\"num === 1\"\n                    >\n                      {{ num }}\n                    </option>\n                  </select>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-primary\"\n                    @click=\"this.$emit('add-cart', 'add', product.id, qty)\"\n                  >\n                    加入購物車\n                  </button>\n                </div>\n              </div>\n            </div>\n            <!-- col-sm-6 end -->\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  props: {\n    id: String,\n  },\n  data() {\n    return {\n      product: {},\n      qty: 1,\n      productModal: '',\n    };\n  },\n  watch: {\n    id() {\n      this.getProduct();\n    },\n  },\n  methods: {\n    getProduct() {\n      this.qty = 1;\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${this.id}`)\n        .then((res) => {\n          this.product = res.data.product;\n          this.$emit('loadingFlag', '');\n          this.$emit('isLoading');\n        })\n        .catch((error) => {\n          this.$httpMessageState(error.response, '錯誤訊息');\n        });\n    },\n    openModal() {\n      this.productModal.show();\n    },\n    closeModal() {\n      this.productModal.hide();\n    },\n  },\n  mounted() {\n    this.productModal = new Modal(this.$refs.modal, { keyboard: false });\n  },\n};\n</script>\n","import { render } from \"./ProductModel.vue?vue&type=template&id=cb68aa4a\"\nimport script from \"./ProductModel.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\個人\\\\六角\\\\Vue 作品實戰 2022 春季班 作業\\\\Vue直播班\\\\Homework7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=791c1fc0\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\個人\\\\六角\\\\Vue 作品實戰 2022 春季班 作業\\\\Vue直播班\\\\Homework7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_2","_createElementBlock","_Fragment","_renderList","$data","product","key","id","src","imageUrl","style","alt","_toDisplayString","title","description","type","disabled","onClick","$options","_createBlock","_component_font_awesome_icon","icon","pulse","_createVNode","_component_UserProductModal","ref","onLoadingFlag","onAddCart","tabindex","role","_hoisted_6","category","content","price","origin_price","_hoisted_14","$event","num","$props","value","selected","_hoisted_18","$emit","props","String","data","qty","productModal","watch","this","getProduct","methods","$http","get","then","res","catch","error","$httpMessageState","response","openModal","show","closeModal","hide","mounted","Modal","$refs","modal","keyboard","__exports__","products","loadingFlag","productId","getProducts","showMore","closeLoadingFlag","userProductModal","updateCart","cartUrl","met","product_id","success","components","UserProductModal","render"],"sourceRoot":""}