"use strict";(self["webpackChunkhomework7"]=self["webpackChunkhomework7"]||[]).push([[40],{9040:function(t,a,s){s.r(a),s.d(a,{default:function(){return D}});var e=s(3396);function n(t,a,s,n,o,i){const r=(0,e.up)("NavBar"),l=(0,e.up)("Toast"),c=(0,e.up)("router-view");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(r),(0,e.Wm)(l),o.isLogin?((0,e.wg)(),(0,e.j4)(c,{key:0})):(0,e.kq)("",!0)],64)}var o=s(4902),i=s(9242);const r={class:"navbar navbar-expand-lg navbar-light bg-light"},l={class:"container-fluid"},c=(0,e.Uk)("邪惡寵物店 後台"),u=(0,e._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,e._)("span",{class:"navbar-toggler-icon"})],-1),h={class:"collapse navbar-collapse",id:"navbarSupportedContent"},p={class:"navbar-nav me-auto mb-2 mb-lg-0"},d={class:"nav-item"},v=(0,e.Uk)("回到前台"),g={class:"nav-item"},m=(0,e.Uk)("後台產品列表"),b={class:"nav-item"},k=(0,e.Uk)("後台訂單"),_={class:"nav-item"},f=(0,e.Uk)("優惠券"),w={class:"nav-item"},$=(0,e.Uk)("貼文");function S(t,a,s,n,o,S){const W=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("nav",r,[(0,e._)("div",l,[(0,e.Wm)(W,{class:"navbar-brand",to:"/"},{default:(0,e.w5)((()=>[c])),_:1}),u,(0,e._)("div",h,[(0,e._)("ul",p,[(0,e._)("li",d,[(0,e.Wm)(W,{class:"nav-link",to:"/"},{default:(0,e.w5)((()=>[v])),_:1})]),(0,e._)("li",g,[(0,e.Wm)(W,{class:"nav-link",to:"/admin/products"},{default:(0,e.w5)((()=>[m])),_:1})]),(0,e._)("li",b,[(0,e.Wm)(W,{class:"nav-link",to:"/admin/orders"},{default:(0,e.w5)((()=>[k])),_:1})]),(0,e._)("li",_,[(0,e.Wm)(W,{class:"nav-link",to:"/admin/coupons"},{default:(0,e.w5)((()=>[f])),_:1})]),(0,e._)("li",w,[(0,e.Wm)(W,{class:"nav-link",to:"/admin/article"},{default:(0,e.w5)((()=>[$])),_:1})])])]),(0,e._)("button",{type:"button",class:"btn btn-primary",onClick:a[0]||(a[0]=(0,i.iM)(((...t)=>S.signOut&&S.signOut(...t)),["prevent"]))}," 登出 ")])])}var W={methods:{signOut(){this.$http.post("https://vue3-course-api.hexschool.io/v2/logout").then((t=>{this.$httpMessageState(t,"登出"),t.data.success&&this.$router.push("/login")})).catch((t=>{this.$httpMessageState(t.response,"錯誤訊息")}))}}},C=s(89);const M=(0,C.Z)(W,[["render",S]]);var U=M,x=s(2746),y={name:"DashboardView",data(){return{isLogin:!1}},components:{NavBar:U,Toast:x.Z},provide(){return{emitter:o.Z}},methods:{check(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hextoken\s*=\s*([^;]*).*$)|^.*$/,"$1");t?(this.$http.defaults.headers.common.Authorization=t,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check").then((t=>{t.data.success?(this.$httpMessageState(t,"登入"),this.isLogin=!0):this.$router.push("/login")})).catch((t=>{this.$httpMessageState(t.response,"錯誤訊息"),this.$router.push("/login")}))):(this.$httpMessageState("您尚未登入。","錯誤訊息"),this.$router.push("/login"))}},mounted(){this.check()}};const Z=(0,C.Z)(y,[["render",n]]);var D=Z}}]);
//# sourceMappingURL=40.271f2a3f.js.map